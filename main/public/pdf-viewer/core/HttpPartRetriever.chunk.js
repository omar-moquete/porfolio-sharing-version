/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{430:function(Aa,ua,r){r.r(ua);r.d(ua,"ByteRangeRequest",function(){return z});var pa=r(1),ka=r(0);r.n(ka);var ma=r(2),ha=r(146);Aa=r(94);var da=r(245),aa=r(73),x=r(70),y=r(244),f=r(162);r=r(373);var b=[],a=[],e=window,h=function(){return function(){this.Vl=1}}(),n;(function(ea){ea[ea.UNSENT=0]="UNSENT";ea[ea.DONE=4]="DONE"})(n||(n={}));var z=function(){function ea(ja,ca,ba,fa){var ia=this;this.url=ja;this.range=ca;this.$e=ba;
this.withCredentials=fa;this.Z0=n;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);e.Uint8Array&&(this.request.responseType="arraybuffer");fa&&(this.request.withCredentials=fa);w.DISABLE_RANGE_HEADER||(Object(ka.isUndefined)(ca.stop)?this.request.setRequestHeader("Range","bytes="+ca.start):this.request.setRequestHeader("Range",["bytes=",ca.start,"-",ca.stop-1].join("")));ba&&Object.keys(ba).forEach(function(la){ia.request.setRequestHeader(la,ba[la])});this.request.overrideMimeType?
this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=y.a.NOT_STARTED}ea.prototype.start=function(ja){var ca=this,ba=this.request;ba.onreadystatechange=function(){if(ca.aborted)return ca.status=y.a.ABORTED,ja({code:y.a.ABORTED});if(this.readyState===ca.Z0.DONE){ca.cC();var fa=0===window.document.URL.indexOf("file:///");200===ba.status||206===ba.status||fa&&0===ba.status?(fa=e.$S(this),ca.kM(fa,ja)):(ca.status=
y.a.ERROR,ja({code:ca.status,status:ca.status}))}};this.request.send(null);this.status=y.a.STARTED};ea.prototype.kM=function(ja,ca){this.status=y.a.SUCCESS;if(ca)return ca(!1,ja)};ea.prototype.abort=function(){this.cC();this.aborted=!0;this.request.abort()};ea.prototype.cC=function(){var ja=Object(f.c)(this.url,this.range,a);-1!==ja&&a.splice(ja,1);if(0<b.length){ja=b.shift();var ca=new ea(ja.url,ja.range,this.$e,this.withCredentials);ja.request=ca;a.push(ja);ca.start(Object(f.d)(ja))}};ea.prototype.extend=
function(ja){var ca=Object.assign({},this,ja.prototype);ca.constructor=ja;return ca};return ea}(),w=function(ea){function ja(ca,ba,fa,ia,la){fa=ea.call(this,ca,fa,ia)||this;fa.Yl={};fa.GA=ba;fa.url=ca;fa.DISABLE_RANGE_HEADER=!1;fa.yx=z;fa.iN=3;fa.$e=la||{};return fa}Object(pa.c)(ja,ea);ja.prototype.uv=function(ca,ba,fa){var ia=-1===ca.indexOf("?")?"?":"&";switch(fa){case !1:case x.a.NEVER_CACHE:ca=ca+ia+"_="+Object(ka.uniqueId)();break;case !0:case x.a.CACHE:ca=ca+ia+"_="+ba.start+","+(Object(ka.isUndefined)(ba.stop)?
"":ba.stop)}return ca};ja.prototype.aR=function(ca,ba,fa,ia){void 0===fa&&(fa={});return new this.yx(ca,ba,fa,ia)};ja.prototype.T8=function(ca,ba,fa,ia,la){for(var na=0;na<b.length;na++)if(Object(ka.isEqual)(b[na].range,ba)&&Object(ka.isEqual)(b[na].url,ca))return b[na].Gg.push(ia),b[na].gD++,null;for(na=0;na<a.length;na++)if(Object(ka.isEqual)(a[na].range,ba)&&Object(ka.isEqual)(a[na].url,ca))return a[na].Gg.push(ia),a[na].gD++,null;fa={url:ca,range:ba,GA:fa,Gg:[ia],gD:1};if(0===b.length&&a.length<
this.iN)return a.push(fa),fa.request=this.aR(ca,ba,la,this.withCredentials),fa;b.push(fa);return null};ja.prototype.Pn=function(ca,ba,fa){var ia=this.uv(ca,ba,this.GA);(ca=this.T8(ia,ba,this.GA,fa,this.$e))&&ca.request.start(Object(f.d)(ca));return function(){var la=Object(f.c)(ia,ba,a);if(-1!==la){var na=--a[la].gD;0===na&&a[la].request&&a[la].request.abort()}else la=Object(f.c)(ia,ba,b),-1!==la&&(na=--b[la].gD,0===na&&b.splice(la,1))}};ja.prototype.FS=function(){return{start:-ha.a}};ja.prototype.rba=
function(){var ca=-(ha.a+ha.e);return{start:ca-ha.d,end:ca}};ja.prototype.Ts=function(ca){var ba=this;this.NA=!0;var fa=ha.a;this.Pn(this.url,this.FS(),function(ia,la,na){function ra(){var qa=ba.Wd.BS();ba.Pn(ba.url,qa,function(ta,va){if(ta)return Object(ma.j)("Error loading central directory: "+ta),ca(ta);va=Object(aa.a)(va);if(va.length!==qa.stop-qa.start)return ca("Invalid XOD file: Zip central directory data is wrong size! Should be "+(qa.stop-qa.start)+" but is "+va.length);ba.Wd.pW(va);ba.bH=
!0;ba.NA=!1;return ca(!1)})}if(ia)return Object(ma.j)("Error loading end header: "+ia),ca(ia,la,na);la=Object(aa.a)(la);if(la.length!==fa)return ca("Invalid XOD file: Zip end header data is wrong size!");try{ba.Wd=new da.a(la)}catch(qa){return ca(qa)}ba.Wd.Wca?ba.Pn(ba.url,ba.rba(),function(qa,ta){if(qa)return Object(ma.j)("Error loading zip64 header: "+qa),ca(qa);ta=Object(aa.a)(ta);ba.Wd.oda(ta);ra()}):ra()})};ja.prototype.XS=function(ca){ca(Object.keys(this.Wd.ln))};ja.prototype.UK=function(ca,
ba){var fa=this;if(this.Wd.TQ(ca)){var ia=this.Wd.XB(ca);if(ia in this.Yl){var la=this.Ph[ca];la.Gr=this.Yl[ia];la.Gr.Vl++;la.cancel=la.Gr.cancel}else{var na=this.Wd.G$(ca),ra=this.Pn(this.url,na,function(ta,va){ta?(Object(ma.j)('Error loading part "'+ca+'": '+ta),fa.Pn(fa.url,na,function(oa,wa){if(oa)return ba(oa,ca);fa.tW(wa,na,ia,ca,ba)})):fa.tW(va,na,ia,ca,ba)}),qa=this.Ph[ca];qa&&(qa.yY=!0,qa.cancel=function(){qa.Gr.Vl--;0===qa.Gr.Vl&&(ra(),delete fa.Yl[ia])},this.Yl[ia]=new h(ia),qa.Gr=this.Yl[ia],
qa.Gr.cancel=qa.cancel)}}else delete this.Ph[ca],ba(Error('File not found: "'+ca+'"'),ca)};ja.prototype.tW=function(ca,ba,fa,ia,la){if(ca.length!==ba.stop-ba.start)la(Error("Part data is wrong size!"),ia);else{do{if(!this.Yl[fa])return;ia=this.Yl[fa].Vl;for(var na=ba.sq.length,ra=0;ra<na;++ra){var qa=ba.sq[ra];la(!1,qa.oq,ca["string"===typeof ca?"substring":"subarray"](qa.start,qa.stop),this.Wd.ZT(qa.oq));qa.oq in this.Ph&&delete this.Ph[qa.oq]}}while(ia!==this.Yl[fa].Vl);delete this.Yl[fa]}};ja.DISABLE_RANGE_HEADER=
!1;ja.iN=3;return ja}(Aa.a);(function(ea){function ja(ca,ba,fa){var ia=ea.call(this)||this,la;for(la in ca)ia[la]=ca[la];ia.voa=ca;ia.startOffset=ba;ia.endOffset=fa;ia.aR=function(na,ra,qa,ta){Object(ka.isUndefined)(ra.stop)?(ra.start+=ia.endOffset,ra.stop=ia.endOffset):(ra.start+=ia.startOffset,ra.stop+=ia.startOffset);na=ia.uv(ia.url,ra,ia.GA);return new ca.yx(na,ra,qa,ta)};return ia}Object(pa.c)(ja,ea);return ja})(w);Object(r.a)(w);Object(r.b)(w);ua["default"]=w}}]);}).call(this || window)
